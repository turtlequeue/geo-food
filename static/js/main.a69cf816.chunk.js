(this["webpackJsonpgeo-food"]=this["webpackJsonpgeo-food"]||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/1f32e.e7199aab.png"},20:function(e,t,n){e.exports=n.p+"static/media/1f32f.8eeb3ae7.png"},21:function(e,t,n){e.exports=n.p+"static/media/1f355.3be17955.png"},22:function(e,t,n){e.exports=n.p+"static/media/1f35f.e342aa65.png"},23:function(e,t,n){e.exports=n.p+"static/media/1f32e-64.b31f1c87.png"},24:function(e,t,n){e.exports=n.p+"static/media/1f32f-64.56080a62.png"},25:function(e,t,n){e.exports=n.p+"static/media/1f355-64.bfd42f29.png"},26:function(e,t,n){e.exports=n.p+"static/media/1f35f-64.1832e238.png"},33:function(e,t,n){e.exports=n(48)},38:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(16),i=n.n(a),c=(n(38),n(1)),l=n(7),s=n(32),u=n(2),f=n(19),p=n.n(f),d=n(20),y=n.n(d),m=n(21),b=n.n(m),g=n(22),h=n.n(g),v=n(23),x=n.n(v),j=n(24),O=n.n(j),T=n(25),w=n.n(T),k=n(26),E=n.n(k);function M(){var e=Object(c.a)(["\n  width: 60px;\n  height: 60px;\n  object-fit: contain;\n  object-position: center;\n"]);return M=function(){return e},e}h.a,b.a,p.a,y.a;var C={taco:E.a,fries:w.a,pizza:x.a,burrito:O.a},S=function(e){var t=e.food,n=Object(s.a)(e,["food"]);return o.a.createElement(A,Object.assign({},n,{alt:"".concat(t," icon"),src:C[t]}))},A=u.a.img(M());var K,I=function(e){var t=e.publish;return o.a.createElement(q,null,o.a.createElement(P,null,Object.keys(C).map((function(e){return o.a.createElement(z,{key:e,food:e,onClick:function(){return t(e)}})}))))},z=Object(l.a)(S,{target:"ey97gf30"})({name:"di4oiw",styles:"cursor:pointer;margin:4px;transition:transform 240ms ease;&:hover{transform:scale(1.08,1.08);}&:active{transition:none;transform:scale(0.94,0.94);}"}),P=Object(l.a)("div",{target:"ey97gf31"})({name:"1xhj18k",styles:"display:flex;flex-direction:row;"}),q=Object(l.a)("div",{target:"ey97gf32"})({name:"1izsw5h",styles:"display:flex;flex-direction:row;background-color:white;position:fixed;bottom:16px;right:0;left:0;z-index:10;padding:4px;"}),F=n(12),L=n.n(F),J=n(27),N=n(11),B=n(28),D=n(29),Q=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],R=n(5),_=function(e){var t=Object(r.useState)(!1),n=Object(R.a)(t,2),o=n[0],a=n[1],i=Object(r.useState)(1),c=Object(R.a)(i,2),l=c[0],s=c[1],u="undefined"!==typeof window?window.google:void 0;return Object(r.useEffect)((function(){(K=K||function(e){return new Promise((function(t,n){var r=document.createElement("script");r.addEventListener("load",t),r.src="https://maps.googleapis.com/maps/api/js?v=3.40&key=".concat(e),r.id="google-map-script",document.body.appendChild(r)}))}(e)).then((function(){a(!0)}))}),[e]),Object(r.useEffect)((function(){if(o&&!u){var e=requestAnimationFrame((function(){return s((function(e){return e+1}))}));return function(){return cancelAnimationFrame(e)}}}),[l,o]),u},U=function(e){var t=e.events,n=e.center,a=e.googleApiKey,i=Object(r.useRef)(null),c=Object(r.useRef)({}),l=_(a),s=Object(r.useMemo)((function(){if(i.current&&l)return new l.maps.Map(i.current,{streetViewControl:!1,fullscreenControl:!1,disableDefaultUI:!1,mapTypeControl:!1,rotateControl:!1,scaleControl:!1,zoomControl:!1,panControl:!1,draggable:!1,zoom:8,center:new l.maps.LatLng(n.lat,n.lon),mapTypeId:"roadmap",background:"#ddd",styles:Q})}),[i.current,l]);return Object(r.useEffect)((function(){s&&n&&s.setCenter(new l.maps.LatLng(n.lat,n.lon))}),[n,s]),Object(r.useEffect)((function(){if(s){var e,n=t.filter((function(e){var t=e.key;return!c.current[t]})),r=Object(D.a)(n);try{for(r.s();!(e=r.n()).done;){var o=e.value;W(l,s,o),c.current=Object(B.a)({},c.current,Object(N.a)({},o.key,!0))}}catch(a){r.e(a)}finally{r.f()}}}),[s,t]),o.a.createElement("div",{ref:i,style:{width:"100%",height:"100%"}})},V=function(e){return new Promise((function(t){return setTimeout(t,e)}))},W=function(){var e=Object(J.a)(L.a.mark((function e(t,n,r){var o,a,i,c,l,s,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.key,a=r.food,i=r.location,c=i.lat,l=i.lon,s=C[a]+"#key=".concat(o),(u=new t.maps.Marker({position:{lat:c,lng:l},icon:s,map:n})).setOpacity(0),e.next=6,V(200);case 6:return u.setOpacity(1),document.querySelectorAll('[src="'.concat(s,'"]')).forEach((function(e){e.parentElement&&e.parentElement.animate([{offset:0,opacity:.6,transform:"translate3d(0,0,0) scale(0.2,0.2)"},{offset:.032,opacity:1,transform:"translate3d(0,-50px,0) scale(1.3,1.3)"},{offset:.06,opacity:1,transform:"translate3d(0,-10px,0) scale(0.7,0.7)"},{offset:.08,opacity:1,transform:"translate3d(0,-160px,0) scale(1,1)"},{offset:.1,opacity:0,transform:"translate3d(0,-200px,0) scale(0.6,0.6)"},{offset:1,opacity:0,transform:"scale(0.6,0.6)"}],{duration:7400})})),e.next=11,V(2e3);case 11:u.setMap(null);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function X(){var e=Object(c.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]);return X=function(){return e},e}function G(){var e=Object(c.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]);return G=function(){return e},e}var H=function(e){var t=e.events,n=e.location,r=e.googleApiKey,a=e.publish;return o.a.createElement(Z,null,o.a.createElement($,null,o.a.createElement(U,{center:n,events:t,googleApiKey:r})),o.a.createElement(I,{publish:a}))},Z=u.a.div(G()),$=u.a.div(X()),Y=n(9);function ee(){var e=Object(c.a)(['\n  width: 120px;\n  height: 100px;\n  display: flex;\n  display: column;\n  align-items: center;\n  justify-content: center;\n  border: solid 5px rgba(255, 255, 255, 0.5);\n  border-radius: 50%;\n\n  &:before {\n    content: "";\n    position: absolute;\n    width: 140px;\n    height: 120px;\n    border: solid 5px rgba(255, 255, 255, 0.5);\n    border-radius: 50%;\n  }\n  &:after {\n    content: "";\n    position: absolute;\n    width: 98px;\n    height: 80px;\n    border: solid 3px rgba(255, 255, 255, 0.5);\n    border-radius: 50%;\n  }\n']);return ee=function(){return e},e}function te(){var e=Object(c.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  display: column;\n  align-items: center;\n  justify-content: center;\n"]);return te=function(){return e},e}function ne(){var e=Object(c.a)(["\n  animation: "," 1500ms infinite linear;\n  width: 50px;\n  height: 50px;\n  position: absolute;\n  transform-origin: center;\n  z-index: 2;\n"]);return ne=function(){return e},e}function re(){var e=Object(c.a)(["",""]);return re=function(){return e},e}var oe=function(){return o.a.createElement(ce,null,o.a.createElement(le,null,Object.keys(C).map((function(e,t){return o.a.createElement(ie,{key:e,food:e,i:t})}))))},ae=Array.from(Object.keys(C)).map((function(e,t,n){var r=Array.from({length:20}).map((function(e,r,o){var a=t/n.length,i=r/(o.length-1),c=(a+i)*Math.PI*2,l=(i+a+.75)%1,s=.2+2.8*Math.abs(l-.5),u=function(e){return Math.round(100*e)/100};return[Math.round(100*i)+"%","{","transform:","translate3d(".concat(u(50*Math.cos(c)),"px,").concat(u(50*Math.sin(c)),"px,0)"),"scale(".concat(s,",").concat(s,")"),"}"].join(" ")})).join("\n");return Object(Y.b)(re(),r)})),ie=Object(u.a)(S)(ne(),(function(e){return ae[e.i]})),ce=u.a.div(te()),le=u.a.div(ee()),se=n(31),ue=n(30),fe=n.n(ue);n(15);var pe=function(e,t,n,o){var a=Object(r.useState)([]),i=Object(R.a)(a,2),c=i[0],l=i[1],s=function(e){return l([].concat(Object(se.a)(c),[e]).sort((function(e,t){return e.date-t.date})).filter((function(e,t,n){return t===n.findIndex((function(t){return t.key===e.key}))})))},u=function(e){var t=Object(r.useRef)();return t.current||(t.current={v:e()}),t.current.v}((function(){return fe.a.create.make({host:"turtlequeue.com",type:"ws",protocol:"https"})})),f=Object(r.useState)("disconnected"),p=Object(R.a)(f,2),d=p[0],y=p[1];Object(r.useEffect)((function(){var e=function(){return y("ready")},t=function(){return y((function(e){return"ready"===e?"ready":"connected"}))},n=function(){return y("disconnected")};return u.on("ready",e),u.on("connect",t),u.on("disconnect",n),function(){u.unbind("ready",e),u.unbind("connect",t),u.unbind("disconnect",n)}}),[u]),Object(r.useEffect)((function(){return u.connect({userToken:e,apiKey:t}),function(){u.disconnect()}}),[e,t]),Object(r.useEffect)((function(){if("ready"===d){var e=function(e,t,n){ye(t)&&s(t)},t={channel:n};return u.subscribe(t,e),function(){u.unsubscribe(t,e)}}}),[d,n,o]);return{publish:function(e){if("ready"===d){var t={food:e,key:de(),date:Date.now(),location:o};return s(t),new Promise((function(e,r){u.publish({payload:t,channel:n},(function(t,n,o){t?r(t):e()}))}))}},status:d,events:c}},de=function(){return Math.random().toString(16).slice(2)},ye=function(e){return"string"===typeof e.key&&"string"===typeof e.food&&e.location},me={lat:60.2353439+.01*Math.random(),lon:7.604292+.01*Math.random()},be=function(){var e=Object(r.useState)(me),t=Object(R.a)(e,2),n=t[0],o=t[1],a=n!==me;return Object(r.useEffect)((function(){new Promise((function(e,t){return navigator.geolocation.getCurrentPosition((function(t){return e(t.coords)}),(function(e){return t(e)}),{timeout:1e4})})).then((function(e){return o({lat:e.latitude,lon:e.longitude})}))}),[]),{location:n,located:a}},ge={turtlequeue:{userToken:"383c0b24-7046-416e-9f79-36832c8637f0",apiKey:"c5584c25-aacd-48f1-9537-35aa0f35602e"},gmaps:{apiKey:"AIzaSyD7FJfPU75IQSZMcbQBQXF1Npl_5VN9HXk"}};console.log("CONFIG IS",JSON.stringify(ge,null,2));var he=ge,ve=function(){var e=_(null===he||void 0===he?void 0:he.gmaps.apiKey),t=be().location,n=pe(he.turtlequeue.userToken,he.turtlequeue.apiKey,"#food",t),r=n.events,a=n.status,i=n.publish;return e&&"ready"===a?o.a.createElement(H,{googleApiKey:he.gmaps.apiKey,events:r,publish:i,location:t}):o.a.createElement(oe,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.a69cf816.chunk.js.map